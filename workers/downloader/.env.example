# Core Configuration
ENVIRONMENT=local
SERVICE_NAME=downloader-worker
LOG_LEVEL=debug

# Add localstack or aws
S3_LAMBDA_BUCKET=audit-reports-local-lambda-deployments

# Adapter Selection
ADAPTER_HANDLER=rabbitmq
ADAPTER_STORAGE=filesystem
ADAPTER_LOGGER=stdout
ADAPTER_METRICS=stdout
ADAPTER_DATABASE=postgres

# AWS Config
AWS_REGION=us-east-2
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test

# Storage Configuration
STORAGE_BUCKET_OR_PATH=/tmp/storage
STORAGE_ENABLE_METRICS=true
STORAGE_MAX_RETRIES=3
STORAGE_TIMEOUT=30s
S3_ENDPOINT=

# Lambda Configuration
LAMBDA_TIMEOUT=180
LAMBDA_PARTIAL_BATCH_FAILURE=true

# HTTP Configuration
HTTP_TIMEOUT=120s
HTTP_MAX_RETRIES=3
HTTP_USER_AGENT=audit-reports-downloader/1.0
HTTP_ADDR=:8080

# Handler Configuration
HANDLER_TIMEOUT=30s
HANDLER_MAX_REQUEST_SIZE=10485760
HANDLER_ENABLE_METRICS=true

# Retry Configuration
RETRY_MAX_ATTEMPTS=3
RETRY_INITIAL_BACKOFF=100ms
RETRY_MAX_BACKOFF=10s
RETRY_BACKOFF_MULTIPLIER=2.0

CLOUDWATCH_REGION=us-east-2
CLOUDWATCH_LOG_GROUP=/workers/downloader
CLOUDWATCH_NAMESPACE=DownloaderWorker/Metrics

RABBITMQ_URL=amqp://admin:admin@localhost:5672/
RABBITMQ_QUEUE=downloader
RABBITMQ_PREFETCH_COUNT=10
RABBITMQ_TIMEOUT=30s

DB_HOST=localhost
DB_PORT=5432
DB_NAME=audit_reports_aggregator
DB_USER=postgres
DB_PASSWORD=postgres
DB_SSL_MODE=disable
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5